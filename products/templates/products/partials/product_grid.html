{# products/partials/product_grid.html #}
<section id="{{ product_type }}-section" class="mb-8 product-section" data-product-type="{{ product_type }}">
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-semibold">
            {% if product_type == 'nysc_kit' %}
                NYSC Kits
            {% elif product_type == 'nysc_tour' %}
                NYSC Tours
            {% else %}
                Churches
            {% endif %}
        </h2>
        <button type="button" 
                class="btn btn-ghost btn-sm load-more-btn"
                onclick="window.cartHandler.handleLoadMore(event)"
                data-expanded="{{ is_expanded|yesno:'true,false' }}"
                {% if category %}data-category="{{ category.slug }}"{% endif %}
                data-product-type="{{ product_type }}">
            {% if is_expanded %}See less{% else %}See more{% endif %}
        </button>
    </div>
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
        {% for product in products %}
            <div class="card bg-base-100 shadow-sm hover:shadow-md transition-shadow">
                <figure class="px-4 pt-4">
                    <img src="{% if product.image %}{{ product.image.url }}{% else %}https://cdn-icons-png.flaticon.com/512/8136/8136031.png{% endif %}"
                         alt="{{ product.name }}"
                         loading="lazy"
                         class="rounded-xl h-48 w-full object-cover" />
                </figure>
                <div class="card-body p-4">
                    <h3 class="card-title text-sm">{{ product.name }}</h3>
                    <div class="card-actions justify-end">
                        <a href="{{ product.get_absolute_url }}" class="btn btn-primary btn-sm">View</a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</section>